<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/MatterControl-Help/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/MatterControl-Help/assets/img/favicon.ico" type="image/x-icon">
        <title>MatterControl Help - Macros</title>
        <link href="/MatterControl-Help/assets/css/highlight.css" rel="stylesheet">
        <link href="/MatterControl-Help/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/MatterControl-Help/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/MatterControl-Help/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/MatterControl-Help/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/MatterControl-Help/assets/css/override.css" rel="stylesheet">
        <script src="/MatterControl-Help/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/MatterControl-Help/assets/js/bootstrap.min.js"></script>        
        <script src="/MatterControl-Help/assets/js/app.min.js"></script>         
        <script src="/MatterControl-Help/assets/js/highlight.pack.js"></script>   
        <script src="/MatterControl-Help/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/MatterControl-Help/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/MatterControl-Help/assets/js/mermaid.min.js"></script>
        <script src="/MatterControl-Help/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/MatterControl-Help/assets/js/html5shiv.min.js"></script>
        <script src="/MatterControl-Help/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/MatterControl-Help/" class="logo">
                            <span>MatterControl Help</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/MatterControl-Help/docs">Docs</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#macro-editor">Macro Editor</a></p>
<p><a href="#macro-scripting">Macro Scripting</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview">
                    <a href="/MatterControl-Help/docs/calibration">Calibration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/calibration/bed-leveling">Bed Leveling</a></li>
                <li><a href="/MatterControl-Help/docs/calibration/retraction-settings">Retraction Settings</a></li>
                <li><a href="/MatterControl-Help/docs/calibration/temperature-towers">Temperature Towers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/designing">Designing Overview</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/designing/add-existing-objects">Adding Existing Objects</a></li>
                <li><a href="/MatterControl-Help/docs/designing/creating-new-objects">Creating New Objects</a></li>
                <li><a href="/MatterControl-Help/docs/designing/design-apps">Design Apps</a></li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/designing/design-primitives">Design Primitives</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/designing/design-primitives/braille-tool">Braille Tool</a></li>
                <li><a href="/MatterControl-Help/docs/designing/design-primitives/image-converter">Image Converter</a></li>
                <li><a href="/MatterControl-Help/docs/designing/design-primitives/text-tool">Text Tool</a></li>

                    </ul>
                </li>
                <li><a href="/MatterControl-Help/docs/designing/editing-objects">Editing Objects</a></li>
                <li><a href="/MatterControl-Help/docs/designing/pro-tools">Pro Tools</a></li>
                <li><a href="/MatterControl-Help/docs/designing/rotate-controls">Rotate Controls</a></li>
                <li><a href="/MatterControl-Help/docs/designing/scale-controls">Scale Controls</a></li>

                    </ul>
                </li>
                <li><a href="/MatterControl-Help/docs/frequently-asked-questions">Frequently asked Questions</a></li>
                <li><a href="/MatterControl-Help/docs/get-support">Getting More Help</a></li>
                <li><a href="/MatterControl-Help/docs/library">Library</a></li>
                <li><a href="/MatterControl-Help/docs/linux">MatterControl on Linux</a></li>
                <li class="treeview active">
                    <a href="/MatterControl-Help/docs/printer-controls">Printer Controls</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/printer-controls/hotend-controls">Hotend and Extruder Controls</a></li>
                <li class="selected"><a href="/MatterControl-Help/docs/printer-controls/macros">Macros</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/printing">Printing</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/printing/adding-new-printer">Adding a new Printer</a></li>
                <li><a href="/MatterControl-Help/docs/printing/exporting-g-code">Exporting G-Code</a></li>
                <li><a href="/MatterControl-Help/docs/printing/loading-and-changing-filament">Loading and Changing Filament</a></li>
                <li><a href="/MatterControl-Help/docs/printing/pausing-a-print">Pausing a Print</a></li>
                <li><a href="/MatterControl-Help/docs/printing/print-recovery">Print Recovery</a></li>
                <li><a href="/MatterControl-Help/docs/printing/multi-color-stls">Printing Multi-Color STLs</a></li>
                <li><a href="/MatterControl-Help/docs/printing/selecting-a-printer">Selecting a Printer</a></li>
                <li><a href="/MatterControl-Help/docs/printing/starting-a-print">Starting a Print</a></li>

                    </ul>
                </li>
                <li><a href="/MatterControl-Help/docs/quick-start">Quick Start</a></li>
                <li><a href="/MatterControl-Help/docs/release-notes">Release Notes</a></li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/slice-settings">Slice Settings</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/slice-settings/adhesion">Adhesion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/slice-settings/adhesion/brim">Brim</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/adhesion/raft">Raft</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/adhesion/skirt">Skirt</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/slice-settings/filament">Filament</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/slice-settings/filament/advanced">Advanced</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/filament/fan">Fan</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/filament/filament">Filament</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/filament/retraction">Retraction</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/slice-settings/general">General</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/slice-settings/general/extruder-change">Extruder Change</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/general/general">General</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/general/infill">Infill</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/general/layers-surface">Layers / Surface</a></li>

                    </ul>
                </li>
                <li><a href="/MatterControl-Help/docs/slice-settings/import-and-export">Importing and Exporting Settings</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/settings-faq">Settings FAQ</a></li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/slice-settings/speed">Speed</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/slice-settings/speed/cooling">Cooling</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/speed/sla-speed">SLA Printer Speeds</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/speed/speed">Speed</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/MatterControl-Help/docs/slice-settings/support">Support</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/MatterControl-Help/docs/slice-settings/support/advanced">Advanced</a></li>
                <li><a href="/MatterControl-Help/docs/slice-settings/support/support">Support</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li><a href="/MatterControl-Help/docs/whats-new">What's New</a></li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Macros</h1>
		</section>
	<section class="content">
		<p>Macros are snippets of saved G-Code which can be called with the click of a button instead of having to be typed repeatedly.</p>
<p>The Macros section of the <a href="index.md">Controls pane</a> is where the user creates and
stores these macros.</p>
<p>To learn more about G-Code and its utility in 3D printing, check out this resource: <a href="http://reprap.org/wiki/G-code">http://reprap.org/wiki/G-code</a></p>
<p><img src="https://lh3.googleusercontent.com/0t9m7MoB4MJ8ezB5jWAmJ1cn6nHSs1egRjLKX3LZY3GKxLXFQOIErVv_LQ2PZEFnBneWG-ktf4-JJpJ1snTTSvmrCdc=s0" class="img-fluid" alt="Macros-example.png"></p>
<h1 id="macro-editor">Macro Editor</h1>
<p>To access the Macro Editor, click the pencil icon
(<img src="http://wiki.mattercontrol.com/images/b/b0/Pencil-edit.png" class="img-fluid" alt="Pencil-edit.png" title="Pencil-edit.png">) next to the word <strong>Macros</strong>. This will open the Macro Presets window.</p>
<h2 id="macros-manager">Macros Manager</h2>
<p><img src="https://lh3.googleusercontent.com/uC22aF0BB3YZRiDdAcA_iXwkbUToMd75PUvf8GHrylzaSSdtJMwZncCRFP6WkdHWdhPa-feWopKxc-OA41az_TYOSQ=s0" class="img-fluid" alt=""></p>
<h2 id="macro-editor-1">Macro Editor</h2>
<p><img src="https://lh3.googleusercontent.com/rvcDIcSdFx1hDaZ4IWc1KrtcZ1GVQHIqXuiDHTwZTtkR6nPELlDfo8YxLNUCNCyBSSqNn0W2xX7jdOKI6WtjPRVQ=s0" class="img-fluid" alt=""></p>
<h3 id="macro-name">Macro Name</h3>
<p>Enter a unique name for the macro. This will be the label on the button shown in the Controls pane.</p>
<h3 id="macro-commands">Macro Commands</h3>
<p>Enter <a href="http://reprap.org/wiki/G-code">G-Code</a> command(s) in this field. The G-Code commands will be sent to the printer. In addition to standard G-Code, macros support these other features</p>
<ul>
<li>You can add comments to the code using a semicolon <code>;</code>. Comments will not be sent to the printer.</li>
<li>You can use brackets <code>[]</code> to insert G-Code replacement variables.</li>
<li>You can use <code>; host.</code> commands to script events in MatterControl. This is described below.</li>
</ul>
<h1 id="macro-scripting">Macro Scripting</h1>
<p>In addition to the G-Code commands sent to the printer, macros allow you to script events on the host side, within MatterControl itself. This allows you to display messages or ask for input from the user. These functions are called by using commands within the G-Code comments.</p>
<h2 id="syntax">Syntax</h2>
<p>To use a macro scripting command, begin the line with the following statement:</p>
<p><code>; host.</code></p>
<p>Then add a command and any applicable parameters.</p>
<p><code>command(parameter:"value")"</code></p>
<p>The result should look something like this:</p>
<p><code>; host.show_message(title:"Waiting for extruder to heat to [temperature].")</code></p>
<h2 id="commands">Commands</h2>
<h3 id="ding">ding()</h3>
<p>Play a bell sound.</p>
<h3 id="show_message">show_message()</h3>
<p>Shows the specified message. This command takes the following parameters.</p>
<p><img src="https://lh3.googleusercontent.com/_Cx5A5XszvfufveoCGc5WTrEoRYCQ7oGpFjORNN8Wgosj3jqfgT9vIfC-0GMvRFrygSJ5HcC5jHRaA_SYE4rnyce=s0" class="img-fluid" alt=""></p>
<!---
| Parameter | Description | Example |
| --------- | ----------- | ------- |
| title | Main text to show | `title:"Trim Filament"` |
| markdown | The contents of the message in Markdown formatted text. May contain images from the internet. Use <br> for line breaks | <code>markdown:"Trim the end of the filament to ensure a good load.<br>\!\[\]\(https://www.matterhackers.com/r/c3zLyf\)<br>Make sure you trim it at a slight angle."</code> |
| wait_ok | Script execution will wait for the user to click 'Continue' | `wait_ok:"true"` |
| repeat_gcode | G-Code to repeat until expire time reached. Lines can be separated with a `\|`. | `repeat_gcode:"G1 E.1 F150\|G4 P10"` |
| expire | The max amount of time to run repeat_gcode or show this message (seconds) | `expire:"300"` |
| count_down | Show a timer counting down from this time | `count_down:"28"` |
--->
<h3 id="choose_material">choose_material()</h3>
<p>Shows the choose material window. This command takes the following parameters.</p>
<p><img src="https://lh3.googleusercontent.com/G5W_Z3vUUURJLOhuva45olYK-om7aLpHUJWy84xzitHaev9aYmSgGZjFr56yenqwgGhcoodG_nTTiBXY088JI2b7B50=s0" class="img-fluid" alt=""></p>
<!---
| Parameter | Description       | Example                 |
| --------- | ----------------- | ----------------------- |
| title     | Main text to show | `title:"Trim Filament"` |
--->
<h2 id="example-script">Example Script</h2>
<p>The following is an example of a script used for loading filament:</p>
<pre><code>; host.choose_material(title:"Choose the material that you are loading.")

M104 S[temperature] ; start heating up the extruder

; host.show_message(title:"Trim the end of the filament to ensure a good load.", image:"https://cdn.instructables.com/FSW/FEGA/HN4ZL57T/FSWFEGAHN4ZL57T.MEDIUM.jpg", wait_ok:"true")

M302 S0  ; Allow extrusion at any temperature
G91                 ; Relative positioning
; host.show_message(title:"Put filament into extruder and click Continue.", repeat_gcode:"G1 E.1 F150|G4 P10", expire:"90", image:"https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/5035400628/original/20150903_115628.jpg?1441307271")
G90                 ; Absolute positioning
; host.show_message(title:"Loading filament...", count_down:"28")
G92 E0              ; reset the extruder position to 0
G91                 ; Relative positioning
G1 E100 F1200       ; extrude the filament 
G1 E100 F1200       ; extrude the filament 
G1 E100 F1200       ; extrude the filament 
G1 E100 F1200       ; extrude the filament 
G1 E100 F1200       ; extrude the filament 
G4 S1               ; wait for move to finish

M302 S150  ; Set cold extrude temp back to reasonable
; host.show_message(title:"Waiting for extruder to heat to [temperature].")
M109 S[temperature] ; heat up the extruder

; extrude slowly so that we can prime the extruder
; host.show_message(title:"Click 'Continue' when filament is running cleanly.", repeat_gcode:"G1 E1 F300|G4 P10", expire:"90")

G4 S1               ; wait for move to finish
G90                 ; Absolute positioning
G92 E0              ; reset the extruder position to 0

M104 S0             ; turn the extruder temperature off
</code></pre>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam.io">Wyam</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>